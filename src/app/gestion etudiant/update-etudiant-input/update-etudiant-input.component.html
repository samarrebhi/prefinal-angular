
<form #form="ngForm">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
  
        <mat-form-field appearance="outline" class="w-100">
            <mat-label>Nom:</mat-label>
            <input
              matInput
              type="text"
              placeholder="Foulen"
              name="nomEt"
              [(ngModel)]="etudiant.nomEt"
              required
              minlength="5"
              #nomEtEtudiant="ngModel"
            />
            <mat-error *ngIf="nomEtEtudiant.invalid && nomEtEtudiant.touched">Required (Minimum length is 5 characters)</mat-error>
          </mat-form-field>
          
  
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Pr√©nom:</mat-label>
            <input
              matInput
              type="text"
              placeholder="BenFoulen"
              name="prenomEt"
              [(ngModel)]="etudiant.prenomEt"
              required
              minlength="6"
              #prenomEtEtudiant="ngModel"
            />
            <mat-error *ngIf="prenomEtEtudiant.invalid && prenomEtEtudiant.touched">Required (Minimum length is 6 characters)</mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-80">
            <mat-label>Email:</mat-label>
            <input
              matInput
              type="text"
              placeholder="Exemple@gmail.com"
              name="email"
              [(ngModel)]="etudiant.email"
              #emailEtudiant="ngModel"
              email
              required
            />
            <mat-error *ngIf="emailEtudiant.invalid && emailEtudiant.touched">
              <ng-container *ngIf="emailEtudiant.errors?.['required']">Email is required</ng-container>
              <ng-container *ngIf="emailEtudiant.errors?.['email']">Invalid email format</ng-container>
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Ecole:</mat-label>
            <input
              matInput
              type="text"
              placeholder="Ecole sup de Tunis"
              [(ngModel)]="etudiant.ecole"
              name="ecole"
              #ecoleEtudiant="ngModel"
              required
            />
            <mat-error *ngIf="ecoleEtudiant.invalid && ecoleEtudiant.touched">
              Ecole is required
            </mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="w-90">
            <mat-label>Mot de passe:</mat-label>
            <input
              matInput
              type="password"
              placeholder="Mot de passe"
              [(ngModel)]="etudiant.mdp"
              maxlength="10"
              name="mdp"
              #mdpEtudiant="ngModel"
             required
            />
            <mat-hint align="end">{{ mdpEtudiant.value?.length || 0 }}/10</mat-hint>
            <mat-error *ngIf="mdpEtudiant.invalid && mdpEtudiant.touched">
              Mot de passe is required
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Date de naissance:</mat-label>
            <input
              matInput
              type="date"
              placeholder="YYYY-MM-DD"
              name="dateNaissance"
              [(ngModel)]="etudiant.dateNaissance"
              #dateNaissanceEtudiant="ngModel"
              required
            />
            <mat-error *ngIf="dateNaissanceEtudiant.invalid && dateNaissanceEtudiant.touched">
              Date de naissance is required
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>CIN:</mat-label>
            <input
              matInput
              type="text"
              placeholder="Exemple: 121547"
              [(ngModel)]="etudiant.cin"
              name="cin"
              #cinEtudiant="ngModel"
              required
            />
            <mat-error *ngIf="cinEtudiant.invalid && cinEtudiant.touched">
              Cin is required
            </mat-error>
          </mat-form-field>
          
        <button mat-flat-button color="accent" class="w-100" type="submit" [disabled]="form.invalid" (click)="update(form.value)" (click)="hidesection()">Update Etudiant</button>
    
      </mat-card-content>
    </mat-card>
  </form>